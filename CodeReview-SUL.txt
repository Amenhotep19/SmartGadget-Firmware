Code Review
===========


---------------------------------------------------------------------------------------------------

Allgemein
---------

* Konsistenz Kommentare, "Funktions-Dekoration"
* Sehr lange Linien, vor allem bei Kommentaren


---------------------------------------------------------------------------------------------------

SmartGadget.h
-------------

Ok


---------------------------------------------------------------------------------------------------

SmartGadget.cpp
---------------

* init

Ganze Funktion: Sehr lang...
63-74, 125-132: Warum nicht im Ctor?

* onDataWritten
Ganze Funktion: Sehr lang. Einzelne "if" in eigene Funktion mit sprechendem Namen?

* propagateSensorValuesToBleService
Einzelne "if" in eigene Funktion mit sprechendem Namen?

* updateAndHandleBatteryLevel
Ganze Funktion: Einzelne "if" in eigene Funktion mit sprechendem Namen?

* periodicCallback
Ganze Funktion: Komplexe Schachtelung. Einzelne "if" in eigene Funktion mit sprechendem Namen?

* handleAdvertising
Ganze Funktion: Etwas komplexe Schachtelung. Einzelne "if" in eigene Funktion mit sprechendem Namen?

* handleConnectionSpeed
Ganze Funktion: Komplexe Schachtelung. Einzelne "if" in eigene Funktion mit sprechendem Namen?


---------------------------------------------------------------------------------------------------

ShtLcd.h

Ok


---------------------------------------------------------------------------------------------------

ShtLcd.cpp
----------

* Allgemein
Viele Magic-Numbers


* setLine1, setLine2
Etwas kryptisch...
Braucht es dafür zwei Funktionen? Die beiden sehen verblüffend ähnlich aus.


---------------------------------------------------------------------------------------------------

Sht31.h

Ok


---------------------------------------------------------------------------------------------------

Sht31.cpp

* Allgemein
isAvailable und pollSensor machen zum Teil gleiche Sachen mit _availability

* isAvailable
Recht viele "if"


---------------------------------------------------------------------------------------------------

DewPoint.h

Ok


---------------------------------------------------------------------------------------------------

DewPoint.cpp

Wie genau ist der Algorithmus :-D


---------------------------------------------------------------------------------------------------

SmartGadgetPeripheral.h

* Allgemein
Sieht ein wenig nach "Monster-Klasse" aus...

* privateConstants
Kurze Beschreibung zu den Einträgen wäre hilfreich


---------------------------------------------------------------------------------------------------

SmartGadgetPeripheral.cpp

* checkIfLcdUpdateNeeded
Komplex und sehr verschachteltes "if"

* setSegmentsVersion
Was wird da für den return-Value verwurstelt?

* setSegmentsData
Sehr komplex verschachteltes "if"

* buttonPressedISR
Auskommentierter, toter Code

* getBatteryLevel
Bitmechanik erläutern
Was ist once?


---------------------------------------------------------------------------------------------------

ServiceDataHandler.h

Ok


---------------------------------------------------------------------------------------------------

ServiceDataHandler.cpp

* ServiceDataHandler
Auskommentierter, toter Code

* notificationHandler
Was macht das ganze "if"?


---------------------------------------------------------------------------------------------------

I2c.h

#ifndef I2CRECONF_H ?

* _regValOut 
Was macht diese Bitmechanik? Ist zwei mal gleich.
* _regValIn
Was macht diese Bitmechanik? Ist zwei mal gleich.


---------------------------------------------------------------------------------------------------

I2c.cpp

Ok


---------------------------------------------------------------------------------------------------

Logger.h

Beschreibung, wie das Ding funktioniert (Architektur)


---------------------------------------------------------------------------------------------------

Logger.cpp

* getAmountOfLoggedValues
Was ist tmp?

* singleLogValueNotification
163: Was testet dieses "if"?


---------------------------------------------------------------------------------------------------

RingBuffer.h

Ok


---------------------------------------------------------------------------------------------------

RingBuffer.cpp

* Allgemein
Berechnungen erläutern.


---------------------------------------------------------------------------------------------------

FlashCmdQueue.h

* privateConstants
Kurze Beschreibung zu den Einträgen wäre hilfreich


---------------------------------------------------------------------------------------------------

FlashCmdQueue.cpp

Ok


---------------------------------------------------------------------------------------------------

Spi.h

Ok


---------------------------------------------------------------------------------------------------

Spi.cpp

* format
Auskommentierter, toter Code

* write
Was ist "value & 0x80"?

* enable
Auskommentierter, toter Code

* disable
Auskommentierter, toter Code
